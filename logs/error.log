{"level":"error","message":"AggregateError [ECONNREFUSED]: \n    at C:\\Users\\Shon PC\\Desktop\\smart-home-crm\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByEmail (C:\\Users\\Shon PC\\Desktop\\smart-home-crm\\src\\models\\user.model.js:22:20)\n    at async exports.register (C:\\Users\\Shon PC\\Desktop\\smart-home-crm\\src\\controllers\\auth.controller.js:22:26)","timestamp":"2025-05-29T20:46:26.074Z"}
{"level":"error","message":"AggregateError [ECONNREFUSED]: \n    at C:\\Users\\Shon PC\\Desktop\\smart-home-crm\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByEmail (C:\\Users\\Shon PC\\Desktop\\smart-home-crm\\src\\models\\user.model.js:22:20)\n    at async exports.register (C:\\Users\\Shon PC\\Desktop\\smart-home-crm\\src\\controllers\\auth.controller.js:22:26)","timestamp":"2025-05-29T20:46:41.588Z"}
{"error":"Cannot read properties of undefined (reading 'id')","level":"error","message":"Database error during user creation:","stack":"TypeError: Cannot read properties of undefined (reading 'id')\n    at exports.register (C:\\Users\\Shon PC\\Desktop\\smart-home-crm\\src\\controllers\\auth.controller.js:50:64)","timestamp":"2025-05-29T20:56:07.865Z"}
{"body":{"email":"shon@cwellmarketing.com","fullName":"Shon Cornwell","password":"a9410600A!","phone":"6784804738","role":"admin"},"error":"Cannot read properties of undefined (reading 'id')","level":"error","message":"Registration failed:","stack":"TypeError: Cannot read properties of undefined (reading 'id')\n    at exports.register (C:\\Users\\Shon PC\\Desktop\\smart-home-crm\\src\\controllers\\auth.controller.js:50:64)","timestamp":"2025-05-29T20:56:07.865Z"}
{"body":{"email":"shon@cwellmarketing.com","fullName":"Shon Cornwell","password":"a9410600A!","phone":"6784804738","role":"admin"},"level":"error","message":"Error details: Cannot read properties of undefined (reading 'id')","method":"POST","name":"TypeError","params":{},"path":"/api/auth/register","query":{},"stack":"TypeError: Cannot read properties of undefined (reading 'id')\n    at exports.register (C:\\Users\\Shon PC\\Desktop\\smart-home-crm\\src\\controllers\\auth.controller.js:50:64)","timestamp":"2025-05-29T20:56:07.866Z"}
2025-05-29 17:07:19 [error]: Error sending welcome email: Invalid login: 535-5.7.8 Username and Password not accepted. For more information, go to
535 5.7.8  https://support.google.com/mail/?p=BadCredentials 3f1490d57ef6-e7f733ec736sm498634276.31 - gsmtp
{
  "code": "EAUTH",
  "response": "535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials 3f1490d57ef6-e7f733ec736sm498634276.31 - gsmtp",
  "responseCode": 535,
  "command": "AUTH PLAIN",
  "stack": "Error: Invalid login: 535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials 3f1490d57ef6-e7f733ec736sm498634276.31 - gsmtp\n    at SMTPConnection._formatError (C:\\Users\\Shon PC\\Desktop\\smart-home-crm\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:809:19)\n    at SMTPConnection._actionAUTHComplete (C:\\Users\\Shon PC\\Desktop\\smart-home-crm\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:1588:34)\n    at SMTPConnection.<anonymous> (C:\\Users\\Shon PC\\Desktop\\smart-home-crm\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:556:26)\n    at SMTPConnection._processResponse (C:\\Users\\Shon PC\\Desktop\\smart-home-crm\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:993:20)\n    at SMTPConnection._onData (C:\\Users\\Shon PC\\Desktop\\smart-home-crm\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:774:14)\n    at SMTPConnection._onSocketData (C:\\Users\\Shon PC\\Desktop\\smart-home-crm\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:195:44)\n    at TLSSocket.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Readable.push (node:internal/streams/readable:392:5)"
}
2025-05-29 17:07:19 [error]: Failed to send welcome email:
{
  "error": "Invalid login: 535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials 3f1490d57ef6-e7f733ec736sm498634276.31 - gsmtp",
  "stack": "Error: Invalid login: 535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials 3f1490d57ef6-e7f733ec736sm498634276.31 - gsmtp\n    at SMTPConnection._formatError (C:\\Users\\Shon PC\\Desktop\\smart-home-crm\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:809:19)\n    at SMTPConnection._actionAUTHComplete (C:\\Users\\Shon PC\\Desktop\\smart-home-crm\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:1588:34)\n    at SMTPConnection.<anonymous> (C:\\Users\\Shon PC\\Desktop\\smart-home-crm\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:556:26)\n    at SMTPConnection._processResponse (C:\\Users\\Shon PC\\Desktop\\smart-home-crm\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:993:20)\n    at SMTPConnection._onData (C:\\Users\\Shon PC\\Desktop\\smart-home-crm\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:774:14)\n    at SMTPConnection._onSocketData (C:\\Users\\Shon PC\\Desktop\\smart-home-crm\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:195:44)\n    at TLSSocket.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Readable.push (node:internal/streams/readable:392:5)",
  "userId": 2,
  "email": "test@example.com"
}
